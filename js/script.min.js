var link=document.querySelector(".button-search"),form=document.querySelector(".search-hotels-form"),arrivalDate=form.querySelector("[name=arrival-date]"),departureDate=form.querySelector("[name=date-of-departure]"),adults=form.querySelector("[name=adult]"),childrens=form.querySelector("[name=children]"),isStorageSupport=!0,storageAdults="",storageChildrens="";try{storageAdults=localStorage.getItem("adults"),storageChildrens=localStorage.getItem("childrens")}catch(e){isStorageSupport=!1}form.classList.toggle("search-form-hide"),link.addEventListener("click",function(e){e.preventDefault(),form.classList.toggle("search-form-hide"),form.classList.contains("search-form-error")&&form.classList.remove("search-form-error"),storageAdults&&(adults.value=storageAdults),storageChildrens&&(childrens.value=storageChildrens),arrivalDate.focus()}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adults.value&&childrens.value?isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("childrens",childrens.value)):(e.preventDefault(),form.classList.contains("search-form-error")&&form.classList.remove("search-form-error"),form.offsetWidth=form.offsetWidth,form.classList.add("search-form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),form.classList.contains("search-form-hide")||(form.classList.add("search-form-hide"),form.classList.contains("search-form-error")&&form.classList.remove("search-form-error")))});